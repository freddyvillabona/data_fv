map3D <- read.csv2("D:/R/Alemania/map3D.csv", encoding = "utf8")
mainstation <- read.csv2("D:/R/Alemania/mainstation.csv", encoding = "utf8")
stationNairport <- read.csv2("D:/R/Alemania/stationNairport.csv", encoding = "utf8")
station <- read.csv2("D:/R/Alemania/station.csv", encoding = "utf8")
alternativestation <- read.csv2("D:/R/Alemania/alternativestation.csv", encoding = "utf8")
k1= as.numeric(map3D$Recommended.Range.with.TOW..km.)
k2= as.numeric(map3D$Range.by.the.Manufacturer..km.)
k3= as.numeric(map3D$Realistic.Range.with.TOW..km.)
df <- data.frame(
"LEGEND" = c(k1,k2,k3)
)
l1 <- str_c("Range by Manufacture:", k1, sep = " ")
l2 <- str_c("Realistic Range:", k2, sep = " ")
l3 <- str_c("Recommended Range", k3, sep = " ")
library("stringr");
l1 <- str_c("Range by Manufacture:", k1, sep = " ")
l2 <- str_c("Realistic Range:", k2, sep = " ")
l3 <- str_c("Recommended Range", k3, sep = " ")
n <- max(df)
cc <- colorRampPalette(c("blue","grey", "yellow"))(n)
getColor <- function(df) {
sapply(df$LEGEND, function(LEGEND) {
if(LEGEND <= (n)) {
"yellow"
} else if(Pop <= k2 ) {
"grey"
} else {
"blue"
} })
}
pal <- colorNumeric(
palette = cc,
domain = df$LEGEND
)
library("leaflet");
getColor <- function(df) {
sapply(df$LEGEND, function(LEGEND) {
if(LEGEND <= (n)) {
"yellow"
} else if(Pop <= k2 ) {
"grey"
} else {
"blue"
} })
}
pal <- colorNumeric(
palette = cc,
domain = df$LEGEND
)
adm <- getData('GADM', country='DE', level=1)
library("raster")
map3D <- read.csv2("D:/R/Alemania/map3D.csv", encoding = "utf8")
mainstation <- read.csv2("D:/R/Alemania/mainstation.csv", encoding = "utf8")
stationNairport <- read.csv2("D:/R/Alemania/stationNairport.csv", encoding = "utf8")
station <- read.csv2("D:/R/Alemania/station.csv", encoding = "utf8")
alternativestation <- read.csv2("D:/R/Alemania/alternativestation.csv", encoding = "utf8")
k1= as.numeric(map3D$Recommended.Range.with.TOW..km.)
k2= as.numeric(map3D$Range.by.the.Manufacturer..km.)
k3= as.numeric(map3D$Realistic.Range.with.TOW..km.)
df <- data.frame(
"LEGEND" = c(k1,k2,k3)
)
l1 <- str_c("Range by Manufacture:", k1, sep = " ")
l2 <- str_c("Realistic Range:", k2, sep = " ")
l3 <- str_c("Recommended Range", k3, sep = " ")
n <- max(df)
cc <- colorRampPalette(c("blue","grey", "yellow"))(n)
getColor <- function(df) {
sapply(df$LEGEND, function(LEGEND) {
if(LEGEND <= (n)) {
"yellow"
} else if(Pop <= k2 ) {
"grey"
} else {
"blue"
} })
}
pal <- colorNumeric(
palette = cc,
domain = df$LEGEND
)
adm <- getData('GADM', country='DE', level=1)
popup <- paste0("<strong>Name: </strong>",adm$NAME_1)
color.purura <- makeAwesomeIcon(icon = 'plane', markerColor = 'purple', library='fa', iconColor = 'black')
color.NAirp <- makeAwesomeIcon(icon = ' ', markerColor = 'red', library='fa', iconColor = 'black')
color.rojo <- makeAwesomeIcon(icon = 'plane', markerColor = 'red', library='fa', iconColor = 'black')
color.verde <- makeAwesomeIcon(icon = 'plane', markerColor = 'green', library='fa', iconColor = 'black')
leaflet(station) %>%
addTiles() %>%
addMeasurePathToolbar(options = measurePathOptions(  imperial = F, minPixelDistance = 100, showDistances = T)) %>%
addDrawToolbar(editOptions = editToolbarOptions(selectedPathOptions = selectedPathOptions())) %>%
addPolygons(data=adm, weight = 2, fillColor = " ", popup=popup) %>%
addProviderTiles("Esri", group = "Esri") %>%
addProviderTiles("Stamen.TonerLite",group = "Toner") %>%
addLayersControl(baseGroups = c("Esri","Toner"))  %>%
addAwesomeMarkers(lng = ~Longitude, lat = ~Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.rojo) %>%
#addCircles(lng = ~Longitude, lat = ~Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "red")  %>%
#addCircles(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude, weight = 1, radius = ~k * 1000, popup = ~stationNairport$Station, color = "red")  %>%
#addCircles(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude, weight = 1, radius = ~k * 1000, popup = ~alternativestation$Alternative.Station, color = "green")  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k3 * 1000, popup = ~map3D$Realistic.Range.with.TOW..km., color = "yellow", fillOpacity = 0.4, labelOptions = labelOptions(noHide = T) )  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k2 * 1000, popup = ~map3D$Range.by.the.Manufacturer..km., color = "grey",fillOpacity = 0.7, labelOptions = labelOptions(noHide = T))  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k1 * 1000, popup = ~map3D$Recommended.Range.with.TOW..km., color = "blue",  fillOpacity = 0.4, labelOptions = labelOptions(noHide = T))  %>%
# addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "lightgoldenrod")
addAwesomeMarkers(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.purura)  %>%
addAwesomeMarkers(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.verde) %>%
addAwesomeMarkers(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.NAirp)
library(leaflet.extras)
map3D <- read.csv2("D:/R/Alemania/map3D.csv", encoding = "utf8")
mainstation <- read.csv2("D:/R/Alemania/mainstation.csv", encoding = "utf8")
stationNairport <- read.csv2("D:/R/Alemania/stationNairport.csv", encoding = "utf8")
station <- read.csv2("D:/R/Alemania/station.csv", encoding = "utf8")
alternativestation <- read.csv2("D:/R/Alemania/alternativestation.csv", encoding = "utf8")
k1= as.numeric(map3D$Recommended.Range.with.TOW..km.)
k2= as.numeric(map3D$Range.by.the.Manufacturer..km.)
k3= as.numeric(map3D$Realistic.Range.with.TOW..km.)
df <- data.frame(
"LEGEND" = c(k1,k2,k3)
)
l1 <- str_c("Range by Manufacture:", k1, sep = " ")
l2 <- str_c("Realistic Range:", k2, sep = " ")
l3 <- str_c("Recommended Range", k3, sep = " ")
n <- max(df)
cc <- colorRampPalette(c("blue","grey", "yellow"))(n)
getColor <- function(df) {
sapply(df$LEGEND, function(LEGEND) {
if(LEGEND <= (n)) {
"yellow"
} else if(Pop <= k2 ) {
"grey"
} else {
"blue"
} })
}
pal <- colorNumeric(
palette = cc,
domain = df$LEGEND
)
adm <- getData('GADM', country='DE', level=1)
popup <- paste0("<strong>Name: </strong>",adm$NAME_1)
color.purura <- makeAwesomeIcon(icon = 'plane', markerColor = 'purple', library='fa', iconColor = 'black')
color.NAirp <- makeAwesomeIcon(icon = ' ', markerColor = 'red', library='fa', iconColor = 'black')
color.rojo <- makeAwesomeIcon(icon = 'plane', markerColor = 'red', library='fa', iconColor = 'black')
color.verde <- makeAwesomeIcon(icon = 'plane', markerColor = 'green', library='fa', iconColor = 'black')
leaflet(station) %>%
addTiles() %>%
addMeasurePathToolbar(options = measurePathOptions(  imperial = F, minPixelDistance = 100, showDistances = T)) %>%
addDrawToolbar(editOptions = editToolbarOptions(selectedPathOptions = selectedPathOptions())) %>%
addPolygons(data=adm, weight = 2, fillColor = " ", popup=popup) %>%
addProviderTiles("Esri", group = "Esri") %>%
addProviderTiles("Stamen.TonerLite",group = "Toner") %>%
addLayersControl(baseGroups = c("Esri","Toner"))  %>%
addAwesomeMarkers(lng = ~Longitude, lat = ~Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.rojo) %>%
#addCircles(lng = ~Longitude, lat = ~Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "red")  %>%
#addCircles(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude, weight = 1, radius = ~k * 1000, popup = ~stationNairport$Station, color = "red")  %>%
#addCircles(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude, weight = 1, radius = ~k * 1000, popup = ~alternativestation$Alternative.Station, color = "green")  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k3 * 1000, popup = ~map3D$Realistic.Range.with.TOW..km., color = "yellow", fillOpacity = 0.4, labelOptions = labelOptions(noHide = T) )  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k2 * 1000, popup = ~map3D$Range.by.the.Manufacturer..km., color = "grey",fillOpacity = 0.7, labelOptions = labelOptions(noHide = T))  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k1 * 1000, popup = ~map3D$Recommended.Range.with.TOW..km., color = "blue",  fillOpacity = 0.4, labelOptions = labelOptions(noHide = T))  %>%
# addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "lightgoldenrod")
addAwesomeMarkers(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.purura)  %>%
addAwesomeMarkers(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.verde) %>%
addAwesomeMarkers(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.NAirp)
leaflet(station) %>%
addTiles() %>%
addMeasurePathToolbar(options = measurePathOptions(  imperial = F, minPixelDistance = 100, showDistances = T)) %>%
addDrawToolbar(editOptions = editToolbarOptions(selectedPathOptions = selectedPathOptions())) %>%
addPolygons(data=adm, weight = 2, fillColor = " ", popup=popup) %>%
addProviderTiles("Esri", group = "Esri") %>%
addProviderTiles("Stamen.TonerLite",group = "Toner") %>%
addLayersControl(baseGroups = c("Esri","Toner"))  %>%
addAwesomeMarkers(lng = ~Longitude, lat = ~Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.rojo) %>%
#addCircles(lng = ~Longitude, lat = ~Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "red")  %>%
#addCircles(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude, weight = 1, radius = ~k * 1000, popup = ~stationNairport$Station, color = "red")  %>%
#addCircles(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude, weight = 1, radius = ~k * 1000, popup = ~alternativestation$Alternative.Station, color = "green")  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k3 * 1000, popup = ~map3D$Realistic.Range.with.TOW..km., color = "yellow", fillOpacity = 0.4, labelOptions = labelOptions(noHide = T) )  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k2 * 1000, popup = ~map3D$Range.by.the.Manufacturer..km., color = "grey",fillOpacity = 0.7, labelOptions = labelOptions(noHide = T))  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k1 * 1000, popup = ~map3D$Recommended.Range.with.TOW..km., color = "blue",  fillOpacity = 0.4, labelOptions = labelOptions(noHide = T))  %>%
# addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "lightgoldenrod")
addAwesomeMarkers(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.purura)  %>%
addAwesomeMarkers(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.verde) %>%
addAwesomeMarkers(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.NAirp) %>%
addLegendCustom(opacity = 1, colors = c("white","purple", "red", "green","white","yellow","grey","blue"),
labels = c("<b>LEGEND</b>",
"Mainstation (FRA)",
"Vertiport",
"Alternate Vertiport  <br><br>",
"<b>Radius [km]</b>",
l3,
l2,
l1), sizes = c(0,35, 35, 35,0, 35, 35, 35))
addLegend(position = "topright", pal = pal ,values = df$LEGEND,
title =  "LEGEND <br><br>
MARKER RED :: Station <br>
MARKER PURPLE :: Mainstation <br>
MARKER GREEN :: Alternative Station <br><br>
YELLOW ::Realistic Range with TOW [km] <br>
GREY :: Realistic Range with TOW [km]  <br>
BLUE :: Range by the Manufacturer [km] <br><br>
CIRCLES :: RADIO [km]:
")  %>%
leaflet(station) %>%
addTiles() %>%
addMeasurePathToolbar(options = measurePathOptions(  imperial = F, minPixelDistance = 100, showDistances = T)) %>%
addDrawToolbar(editOptions = editToolbarOptions(selectedPathOptions = selectedPathOptions())) %>%
addPolygons(data=adm, weight = 2, fillColor = " ", popup=popup) %>%
addProviderTiles("Esri", group = "Esri") %>%
addProviderTiles("Stamen.TonerLite",group = "Toner") %>%
addLayersControl(baseGroups = c("Esri","Toner"))  %>%
addAwesomeMarkers(lng = ~Longitude, lat = ~Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.rojo) %>%
#addCircles(lng = ~Longitude, lat = ~Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "red")  %>%
#addCircles(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude, weight = 1, radius = ~k * 1000, popup = ~stationNairport$Station, color = "red")  %>%
#addCircles(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude, weight = 1, radius = ~k * 1000, popup = ~alternativestation$Alternative.Station, color = "green")  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k3 * 1000, popup = ~map3D$Realistic.Range.with.TOW..km., color = "yellow", fillOpacity = 0.4, labelOptions = labelOptions(noHide = T) )  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k2 * 1000, popup = ~map3D$Range.by.the.Manufacturer..km., color = "grey",fillOpacity = 0.7, labelOptions = labelOptions(noHide = T))  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k1 * 1000, popup = ~map3D$Recommended.Range.with.TOW..km., color = "blue",  fillOpacity = 0.4, labelOptions = labelOptions(noHide = T))  %>%
# addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "lightgoldenrod")
addAwesomeMarkers(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.purura)  %>%
addAwesomeMarkers(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.verde) %>%
addAwesomeMarkers(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.NAirp) %>%
addLegend(position = "topright", pal = pal ,values = df$LEGEND,
title =  "LEGEND <br><br>
MARKER RED :: Station <br>
MARKER PURPLE :: Mainstation <br>
MARKER GREEN :: Alternative Station <br><br>
YELLOW ::Realistic Range with TOW [km] <br>
GREY :: Realistic Range with TOW [km]  <br>
BLUE :: Range by the Manufacturer [km] <br><br>
CIRCLES :: RADIO [km]:
")
leaflet(station) %>%
addTiles() %>%
addMeasurePathToolbar(options = measurePathOptions(  imperial = F, minPixelDistance = 100, showDistances = T)) %>%
addDrawToolbar(editOptions = editToolbarOptions(selectedPathOptions = selectedPathOptions())) %>%
addPolygons(data=adm, weight = 2, fillColor = " ", popup=popup) %>%
addProviderTiles("Esri", group = "Esri") %>%
addProviderTiles("Stamen.TonerLite",group = "Toner") %>%
addLayersControl(baseGroups = c("Esri","Toner"))  %>%
addAwesomeMarkers(lng = ~Longitude, lat = ~Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.rojo) %>%
#addCircles(lng = ~Longitude, lat = ~Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "red")  %>%
#addCircles(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude, weight = 1, radius = ~k * 1000, popup = ~stationNairport$Station, color = "red")  %>%
#addCircles(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude, weight = 1, radius = ~k * 1000, popup = ~alternativestation$Alternative.Station, color = "green")  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k3 * 1000, popup = ~map3D$Realistic.Range.with.TOW..km., color = "yellow", fillOpacity = 0.4, labelOptions = labelOptions(noHide = T) )  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k2 * 1000, popup = ~map3D$Range.by.the.Manufacturer..km., color = "grey",fillOpacity = 0.7, labelOptions = labelOptions(noHide = T))  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k1 * 1000, popup = ~map3D$Recommended.Range.with.TOW..km., color = "blue",  fillOpacity = 0.4, labelOptions = labelOptions(noHide = T))  %>%
# addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "lightgoldenrod")
addAwesomeMarkers(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.purura)  %>%
addAwesomeMarkers(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.verde) %>%
addAwesomeMarkers(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.NAirp) %>%
addLegend(position = "topright", pal = pal ,values = df$LEGEND,
title =  "LEGEND <br><br>
MARKER RED :: Station <br>
MARKER PURPLE :: Mainstation <br>
MARKER GREEN :: Alternative Station <br><br>
YELLOW ::Realistic Range with TOW [km] <br>
GREY :: Realistic Range with TOW [km]  <br>
BLUE :: Range by the Manufacturer [km] <br><br>
CIRCLES :: RADIO [km]:
")
leaflet(station) %>%
addTiles() %>%
addMeasurePathToolbar(options = measurePathOptions(  imperial = F, minPixelDistance = 100, showDistances = T)) %>%
addDrawToolbar(editOptions = editToolbarOptions(selectedPathOptions = selectedPathOptions())) %>%
addPolygons(data=adm, weight = 2, fillColor = " ", popup=popup) %>%
addProviderTiles("Esri", group = "Esri") %>%
addProviderTiles("Stamen.TonerLite",group = "Toner") %>%
addLayersControl(baseGroups = c("Esri","Toner"))  %>%
addAwesomeMarkers(lng = ~Longitude, lat = ~Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.rojo) %>%
#addCircles(lng = ~Longitude, lat = ~Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "red")  %>%
#addCircles(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude, weight = 1, radius = ~k * 1000, popup = ~stationNairport$Station, color = "red")  %>%
#addCircles(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude, weight = 1, radius = ~k * 1000, popup = ~alternativestation$Alternative.Station, color = "green")  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k3 * 1000, popup = ~map3D$Realistic.Range.with.TOW..km., color = "yellow", fillOpacity = 0.4, labelOptions = labelOptions(noHide = T) )  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k2 * 1000, popup = ~map3D$Range.by.the.Manufacturer..km., color = "grey",fillOpacity = 0.7, labelOptions = labelOptions(noHide = T))  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k1 * 1000, popup = ~map3D$Recommended.Range.with.TOW..km., color = "blue",  fillOpacity = 0.4, labelOptions = labelOptions(noHide = T))  %>%
# addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "lightgoldenrod")
addAwesomeMarkers(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.purura)  %>%
addAwesomeMarkers(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.verde) %>%
addAwesomeMarkers(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.NAirp) %>%
addLegend(position = "topright", pal = pal ,values = df$LEGEND,
title =  "")
addLegendCustom <- function(map, colors, labels, sizes, shapes, borders, opacity = 0.5){
make_shapes <- function(colors, sizes, borders, shapes) {
shapes <- gsub("circle", "50%", shapes)
shapes <- gsub("square", "0%", shapes)
paste0(colors, "; width:", sizes, "px; height:", sizes, "px; border:3px solid ", borders, "; border-radius:", shapes)
}
make_labels <- function(sizes, labels) {
paste0("<div style='float: right; display: inline-block;height: ",
sizes, "px;margin-top: 4px;line-height: ",
sizes, "px;'>", labels, "</div>")
}
legend_colors <- make_shapes(colors, sizes, borders, shapes)
legend_labels <- make_labels(sizes, labels)
return(addLegend(map, colors = legend_colors, labels = legend_labels, opacity = opacity))
}
leaflet(station) %>%
addTiles() %>%
addMeasurePathToolbar(options = measurePathOptions(  imperial = F, minPixelDistance = 100, showDistances = T)) %>%
addDrawToolbar(editOptions = editToolbarOptions(selectedPathOptions = selectedPathOptions())) %>%
addPolygons(data=adm, weight = 2, fillColor = " ", popup=popup) %>%
addProviderTiles("Esri", group = "Esri") %>%
addProviderTiles("Stamen.TonerLite",group = "Toner") %>%
addLayersControl(baseGroups = c("Esri","Toner"))  %>%
addAwesomeMarkers(lng = ~Longitude, lat = ~Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.rojo) %>%
#addCircles(lng = ~Longitude, lat = ~Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "red")  %>%
#addCircles(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude, weight = 1, radius = ~k * 1000, popup = ~stationNairport$Station, color = "red")  %>%
#addCircles(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude, weight = 1, radius = ~k * 1000, popup = ~alternativestation$Alternative.Station, color = "green")  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k3 * 1000, popup = ~map3D$Realistic.Range.with.TOW..km., color = "yellow", fillOpacity = 0.4, labelOptions = labelOptions(noHide = T) )  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k2 * 1000, popup = ~map3D$Range.by.the.Manufacturer..km., color = "grey",fillOpacity = 0.7, labelOptions = labelOptions(noHide = T))  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k1 * 1000, popup = ~map3D$Recommended.Range.with.TOW..km., color = "blue",  fillOpacity = 0.4, labelOptions = labelOptions(noHide = T))  %>%
# addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "lightgoldenrod")
addAwesomeMarkers(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.purura)  %>%
addAwesomeMarkers(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.verde) %>%
addAwesomeMarkers(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.NAirp) %>%
addLegend(position = "topright", pal = pal ,values = df$LEGEND,
title =  "Radio") %>%
addLegendCustom(opacity = 1, colors = c("white","purple", "red", "green","white","yellow","grey","blue"),
labels = c("<b>LEGEND</b>",
"Mainstation (FRA)",
"Vertiport",
"Alternate Vertiport  <br><br>",
"<b>Radius [km]</b>",
l3,
l2,
l1), sizes = c(0,35, 35, 35,0, 35, 35, 35))
addLegendCustom <- function(map, colors, labels, sizes, shapes, borders, opacity = 0.5){
make_shapes <- function(colors, sizes, borders, shapes) {
shapes <- gsub("circle", "50%", shapes)
shapes <- gsub("square", "0%", shapes)
paste0(colors, "; width:", sizes, "px; height:", sizes, "px; border:3px solid ", borders, "; border-radius:", shapes)
}
make_labels <- function(sizes, labels) {
paste0("<div style='display: inline-block;height: ",
sizes, "px;margin-top: 4px;line-height: ",
sizes, "px;'>", labels, "</div>")
}
legend_colors <- make_shapes(colors, sizes, borders, shapes)
legend_labels <- make_labels(sizes, labels)
return(addLegend(map, colors = legend_colors, labels = legend_labels, opacity = opacity))
}
leaflet(station) %>%
addTiles() %>%
addMeasurePathToolbar(options = measurePathOptions(  imperial = F, minPixelDistance = 100, showDistances = T)) %>%
addDrawToolbar(editOptions = editToolbarOptions(selectedPathOptions = selectedPathOptions())) %>%
addPolygons(data=adm, weight = 2, fillColor = " ", popup=popup) %>%
addProviderTiles("Esri", group = "Esri") %>%
addProviderTiles("Stamen.TonerLite",group = "Toner") %>%
addLayersControl(baseGroups = c("Esri","Toner"))  %>%
addAwesomeMarkers(lng = ~Longitude, lat = ~Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.rojo) %>%
#addCircles(lng = ~Longitude, lat = ~Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "red")  %>%
#addCircles(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude, weight = 1, radius = ~k * 1000, popup = ~stationNairport$Station, color = "red")  %>%
#addCircles(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude, weight = 1, radius = ~k * 1000, popup = ~alternativestation$Alternative.Station, color = "green")  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k3 * 1000, popup = ~map3D$Realistic.Range.with.TOW..km., color = "yellow", fillOpacity = 0.4, labelOptions = labelOptions(noHide = T) )  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k2 * 1000, popup = ~map3D$Range.by.the.Manufacturer..km., color = "grey",fillOpacity = 0.7, labelOptions = labelOptions(noHide = T))  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k1 * 1000, popup = ~map3D$Recommended.Range.with.TOW..km., color = "blue",  fillOpacity = 0.4, labelOptions = labelOptions(noHide = T))  %>%
# addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "lightgoldenrod")
addAwesomeMarkers(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.purura)  %>%
addAwesomeMarkers(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.verde) %>%
addAwesomeMarkers(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.NAirp) %>%
addLegend(position = "topright", pal = pal ,values = df$LEGEND,
title =  "Radio") %>%
addLegendCustom(opacity = 1, colors = c("white","purple", "red", "green","white","yellow","grey","blue"),
labels = c("<b>LEGEND</b>",
"Mainstation (FRA)",
"Vertiport",
"Alternate Vertiport  <br><br>",
"<b>Radius [km]</b>",
l3,
l2,
l1), sizes = c(0,35, 35, 35,0, 35, 35, 35))
addLegendCustom <- function(map, colors, labels, sizes, opacity = 0.5){
colorAdditions <- paste0(colors, "; width:", sizes, "px; height:", sizes, "px")
labelAdditions <- paste0("<div style='display: inline-block;height: ",
sizes, "px;margin-top: 4px;line-height: ", sizes, "px;'>",
labels, "</div>")
return(addLegend(map, colors = colorAdditions,
labels = labelAdditions, opacity = opacity))
}
leaflet(station) %>%
addTiles() %>%
addMeasurePathToolbar(options = measurePathOptions(  imperial = F, minPixelDistance = 100, showDistances = T)) %>%
addDrawToolbar(editOptions = editToolbarOptions(selectedPathOptions = selectedPathOptions())) %>%
addPolygons(data=adm, weight = 2, fillColor = " ", popup=popup) %>%
addProviderTiles("Esri", group = "Esri") %>%
addProviderTiles("Stamen.TonerLite",group = "Toner") %>%
addLayersControl(baseGroups = c("Esri","Toner"))  %>%
addAwesomeMarkers(lng = ~Longitude, lat = ~Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.rojo) %>%
#addCircles(lng = ~Longitude, lat = ~Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "red")  %>%
#addCircles(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude, weight = 1, radius = ~k * 1000, popup = ~stationNairport$Station, color = "red")  %>%
#addCircles(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude, weight = 1, radius = ~k * 1000, popup = ~alternativestation$Alternative.Station, color = "green")  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k3 * 1000, popup = ~map3D$Realistic.Range.with.TOW..km., color = "yellow", fillOpacity = 0.4, labelOptions = labelOptions(noHide = T) )  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k2 * 1000, popup = ~map3D$Range.by.the.Manufacturer..km., color = "grey",fillOpacity = 0.7, labelOptions = labelOptions(noHide = T))  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k1 * 1000, popup = ~map3D$Recommended.Range.with.TOW..km., color = "blue",  fillOpacity = 0.4, labelOptions = labelOptions(noHide = T))  %>%
# addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "lightgoldenrod")
addAwesomeMarkers(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.purura)  %>%
addAwesomeMarkers(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.verde) %>%
addAwesomeMarkers(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.NAirp) %>%
addLegend(position = "topright", pal = pal ,values = df$LEGEND,
title =  "Radio") %>%
addLegendCustom(opacity = 1, colors = c("white","purple", "red", "green","white","yellow","grey","blue"),
labels = c("<b>LEGEND</b>",
"Mainstation (FRA)",
"Vertiport",
"Alternate Vertiport  <br><br>",
"<b>Radius [km]</b>",
l3,
l2,
l1), sizes = c(0,35, 35, 35,0, 35, 35, 35))
setwd("C:/Users/PC/Desktop/data")
shiny::runApp()
runApp()
runApp()
leaflet::leaflet(station) %>%
addTiles() %>%
addMeasurePathToolbar(options = measurePathOptions(  imperial = F, minPixelDistance = 100, showDistances = T)) %>%
addDrawToolbar(editOptions = editToolbarOptions(selectedPathOptions = selectedPathOptions())) %>%
addPolygons(data=adm, weight = 2, fillColor = " ", popup=popup) %>%
addProviderTiles("Esri", group = "Esri") %>%
addProviderTiles("Stamen.TonerLite",group = "Toner") %>%
addLayersControl(baseGroups = c("Esri","Toner"))  %>%
addAwesomeMarkers(lng = ~Longitude, lat = ~Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.rojo) %>%
#addCircles(lng = ~Longitude, lat = ~Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "red")  %>%
#addCircles(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude, weight = 1, radius = ~k * 1000, popup = ~stationNairport$Station, color = "red")  %>%
#addCircles(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude, weight = 1, radius = ~k * 1000, popup = ~alternativestation$Alternative.Station, color = "green")  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k3 * 1000, popup = ~map3D$Realistic.Range.with.TOW..km., color = "yellow", fillOpacity = 0.4, labelOptions = labelOptions(noHide = T) )  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k2 * 1000, popup = ~map3D$Range.by.the.Manufacturer..km., color = "grey",fillOpacity = 0.7, labelOptions = labelOptions(noHide = T))  %>%
addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k1 * 1000, popup = ~map3D$Recommended.Range.with.TOW..km., color = "blue",  fillOpacity = 0.4, labelOptions = labelOptions(noHide = T))  %>%
# addCircles(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude, weight = 1, radius = ~k * 1000, popup = ~Station, color = "lightgoldenrod")
addAwesomeMarkers(lng = ~mainstation$Longitude, lat = ~mainstation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.purura)  %>%
addAwesomeMarkers(lng = ~alternativestation$Longitude, lat = ~alternativestation$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.verde) %>%
addAwesomeMarkers(lng = ~stationNairport$Longitude, lat = ~stationNairport$Latitude,
labelOptions = labelOptions(noHide = T),
icon = color.NAirp)
runApp()
runApp()
